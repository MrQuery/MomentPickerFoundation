/*! MomentPicker v1.2.0 | https://github.com/coma/MomentPicker | MIT license */
!function(a){var b="MomentPicker",c=moment().startOf("day"),d={date:c,level:0,style:{selected:"selected",current:"current"}};a.fn[b]=function(e){var f=a(this).data(b);return f?f:this.each(function(){var f,g=a.extend(!0,{},d,e),h=g.date,i=h.clone(),j=a(this),k=g.level;j.html(['<div class="header">','<a class="prev"></a>','<a class="current"></a>','<a class="next"></a>',"</div>",'<div class="body"></div>'].join(""));var l=j.children("div.header"),m=j.children("div.body"),n=l.children("a.next"),o=l.children("a.prev"),p=l.children("a.current"),q=function(){return!1},r=q,s=q,t=q,u=q,v=q,w=q,x=q,y=q;g.hasOwnProperty("min")&&!function(){if(g.min instanceof Function)x=g.min;else{var a=moment(g.min);moment.isMoment(a)&&(a.startOf("day"),x=function(){return a.clone()})}v=function(a){return a<x().year()},t=function(a){return a.clone().startOf("month")<x().startOf("month")},r=function(a){return a<x()}}(),g.hasOwnProperty("max")&&!function(){if(g.max instanceof Function)y=g.max;else{var a=moment(g.max);moment.isMoment(a)&&(a.startOf("day"),y=function(){return a.clone()})}w=function(a){return a>y().year()},u=function(a){return a.clone().endOf("month")>y().endOf("month")},s=function(a){return a>y()}}();var z=function(b){var c=a.Event(b);c.api=f,j.trigger(c)},A=function(a){return!v(a)&&!w(a)},B=function(a){return!r(a)&&!s(a)},C=function(a){return!t(a)&&!u(a)},D=function(){if(arguments.length>0){var a=moment(arguments[0]);return moment.isMoment(a)&&(a.startOf("day"),B(a)&&(i=a,z("pick"),h=i.clone(),J())),f}return i.clone()},E=function(){var a=h.year(),b=a+12,d="";for(p.text(a+" - "+(b-1));b>a;){var e=[];a===c.year()&&e.push(g.style.current),a===i.year()&&e.push(g.style.selected);var f=A(a)?"a":"span";d+="<"+f+' data-year="'+a+'" class="'+e.join(" ")+'">'+a+"</"+f+">",a++}m.html(d),z("renderYears")},F=function(){var a=h.clone().startOf("y"),b=a.clone().add("M",12),d="";for(p.text(a.year());b>a;){var e=[];a.format("M-YYYY")===c.format("M-YYYY")&&e.push(g.style.current),a.format("M-YYYY")===i.format("M-YYYY")&&e.push(g.style.selected);var f=C(a)?"a":"span";d+="<"+f+' data-month="'+a.format("M-YYYY")+'" class="'+e.join(" ")+'">'+a.format("MMM")+"</"+f+">",a.add("M",1)}m.html(d),z("renderMonths")},G=function(){var a=h.clone().startOf("w"),b=a.clone().add("w",1),d='<div class="week">';for(p.text(h.format("MMMM YYYY"));b>a;)d+="<span>"+a.format("ddd")+"</span>",a.add("d",1);d+="</div>",a=h.clone().startOf("M").startOf("w"),b=a.clone().add("d",42),d+='<div class="month">';for(var e=!1;b>a;){var f=[];a.format("D-M-YYYY")===c.format("D-M-YYYY")&&f.push(g.style.current),a.format("D-M-YYYY")===i.format("D-M-YYYY")&&f.push(g.style.selected);var j=B(a)?"a":"span";a.month()!==h.month()?f.push(e?"next":"prev"):e=!0,d+="<"+j+' data-day="'+a.format("D-M-YYYY")+'" class="'+f.join(" ")+'">'+a.date()+"</"+j+">",a.add("d",1)}d+="</div>",m.html(d),z("renderDays")},H=[{years:12},{years:1},{months:1}],I=[E,F,G],J=function(){arguments.length>0&&(k=Math.max(arguments[0],g.level)),j.removeClass("top"),k===g.level&&j.addClass("top"),I[k](),z("render")},K=function(){h.add(H[k]),J(),z("showNext")},L=function(){h.subtract(H[k]),J(),z("showPrev")};n.click(K),o.click(L),p.click(function(){J(Math.max(0,--k))}),m.on("click","a[data-year]",function(){h.year(a(this).data("year")),J(1)}),m.on("click","a[data-month]",function(){var b=moment(a(this).data("month"),"M-YYYY");h.month(b.month()).year(b.year()),J(2)}),m.on("click","a[data-day]",function(){D(moment(a(this).data("day"),"D-M-YYYY"))}),f={val:D,next:K,prev:L,renderYears:function(){J(0)},renderMonths:function(){J(1)},renderDays:function(){J(2)}},j.data(b,f),z("ready"),J()})}}(jQuery);